(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"07a9":function(n,e,o){},"0e12":function(n,e,o){"use strict";(function(n,e){var t=o("4ea4");o("cd77");t(o("66fd"));var i=t(o("ab7a"));n.__webpack_require_UNI_MP_PLUGIN__=o,e(i.default)}).call(this,o("bc2e")["default"],o("543d")["createPage"])},"131e":function(n,e,o){"use strict";var t=o("07a9"),i=o.n(t);i.a},"55c7":function(n,e,o){"use strict";o.r(e);var t=o("bbe4"),i=o.n(t);for(var a in t)["default"].indexOf(a)<0&&function(n){o.d(e,n,(function(){return t[n]}))}(a);e["default"]=i.a},aaad:function(n,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"c",(function(){return a})),o.d(e,"a",(function(){return t}));var t={uToast:function(){return o.e("node-modules/uview-ui/components/u-toast/u-toast").then(o.bind(null,"8ee3"))},uSwiper:function(){return Promise.all([o.e("common/vendor"),o.e("node-modules/uview-ui/components/u-swiper/u-swiper")]).then(o.bind(null,"f9f7"))},uIcon:function(){return Promise.all([o.e("common/vendor"),o.e("node-modules/uview-ui/components/u-icon/u-icon")]).then(o.bind(null,"b223"))},uEmpty:function(){return Promise.all([o.e("common/vendor"),o.e("node-modules/uview-ui/components/u-empty/u-empty")]).then(o.bind(null,"7ae9"))}},i=function(){var n=this,e=n.$createElement,o=(n._self._c,n.allList&&n.allList.length>0),t=n.isLoaded&&0==n.allList.length,i=n.unoutboundList&&n.unoutboundList.length>0,a=n.unoutboundLoaded&&0==n.unoutboundList.length;n.$mp.data=Object.assign({},{$root:{g0:o,g1:t,g2:i,g3:a}})},a=[]},ab7a:function(n,e,o){"use strict";o.r(e);var t=o("aaad"),i=o("55c7");for(var a in i)["default"].indexOf(a)<0&&function(n){o.d(e,n,(function(){return i[n]}))}(a);o("131e");var r=o("f0c5"),d=Object(r["a"])(i["default"],t["b"],t["c"],!1,null,"1dcfe1fe",null,!1,t["a"],void 0);e["default"]=d.exports},bbe4:function(n,e,o){"use strict";(function(n,t){var i=o("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(o("2eee")),r=i(o("c973")),d=o("c1ea"),u={components:{addMini:function(){o.e("pages/index/programs/addMini").then(function(){return resolve(o("90b3"))}.bind(null,o)).catch(o.oe)}},data:function(){return{isAddToMyMiniProgram:void 0,isLogin:void 0,isfirst:void 0,userinfo:{},loginuserinfo:{},bannerList:[],navList:[{navUrl:"https://xhzl.sxhcyywl.com:1443/prod-api/profile/upload/2025/04/25/sc10_20250425130214A012.png",title:"订单查询"},{navUrl:"https://xhzl.sxhcyywl.com:1443/prod-api/profile/upload/2025/04/25/sc6_20250425130128A008.png",title:"监管码"},{navUrl:"https://xhzl.sxhcyywl.com:1443/prod-api/profile/upload/2025/05/29/trend_20250529085419A019.png",title:"行业动态"},{navUrl:"https://xhzl.sxhcyywl.com:1443/prod-api/profile/upload/2025/06/03/notice_20250603094308A046.png",title:"通知公告"}],messageData:[{noticeTitle:"欢迎使用海川小海智链",tag:"感谢"}],queryParams:{pageNum:1,pageSize:5},total:0,allList:[],isLoaded:!1,unoutboundTotal:0,unoutboundList:[],unoutboundLoaded:!1}},onLoad:function(){this.getBannerlist(),console.log("添加小程序",n.canIUse("checkIsAddedToMyMiniProgram")),n.canIUse("checkIsAddedToMyMiniProgram")&&this.checkIsAddedToMyMiniProgram()},onShow:function(){this.checkLoginAndLoadData(),this.isfirst=(0,d.getIsfirst)(),this.userinfo=(0,d.getUserInfo)()||{},this.loginuserinfo=(0,d.getloginuserInfo)()||{}},methods:{checkLoginAndLoadData:function(){this.isLogin=(0,d.getToken)(),this.isLogin?this.getallList():(this.allList=[],this.total=0,this.unoutboundList=[],this.unoutboundTotal=0)},goLogin:function(){t.navigateTo({url:"/pages/login/login"})},handleConfirm:function(n){var e=n.orderNo,o={orderNo:e},i=this;t.showModal({title:"提示",content:"是否确认收货?",success:function(n){n.confirm&&i.request("orderapi/orderSure",o,"GET",{}).then((function(){i.getallList()}))}})},goUnsign:function(){this.isLogin?t.navigateTo({url:"/pageA/deliveryOrder/deliveryOrder?tabIndex=1"}):t.navigateTo({url:"/pages/login/login"})},goUnbound:function(){this.isLogin?t.navigateTo({url:"/pageA/deliveryOrder/deliveryOrder?tabIndex=2"}):t.navigateTo({url:"/pages/login/login"})},commonLogistics:function(n){var e=n.orderNo;t.navigateTo({url:"/pageA/deliveryOrder/orderLogistics/orderLogistics?orderNo=".concat(e)})},handleunsignLogistics:function(n){this.commonLogistics(n)},handleunboundLogistics:function(n){this.commonLogistics(n)},commonElec:function(e){t.showLoading({title:"文件下载中..."});var o=e.orderNo;t.downloadFile({url:"https://xhzl.sxhcyywl.com:1443/prod-api/orderapi/getElectron?orderNo=".concat(e.orderNo),filePath:"".concat(n.env.USER_DATA_PATH,"/").concat(o,".pdf"),header:{Authorization:"Bearer ".concat((0,d.getToken)())},success:function(n){if(console.log("文件下载",n),t.hideLoading(),200===n.statusCode){var e=n.filePath||n.tempFilePath;t.openDocument({filePath:e,fileType:"pdf",showMenu:!0,success:function(){t.hideLoading(),t.showToast({title:"文件已打开,请通过右上角菜单进行分析保存",icon:"none"})},fail:function(n){t.hideLoading(),t.showToast({title:"打开失败：".concat(n.errMsg||"未知错误"),icon:"none"})}})}else t.hideLoading(),t.showToast({title:"服务器错误：".concat(n.statusCode),icon:"none"})},fail:function(n){console.log("err",n),t.hideLoading(),t.showToast({title:"下载失败：".concat(n.errMsg),icon:"none"})}})},handleUnoutboundElec:function(n){this.commonElec(n)},handleElec:function(n){this.commonElec(n)},handleQuality:function(n){var e=n.orderNo,o=n.addTime;t.navigateTo({url:"/pageA/deliveryOrder/orderDetail/orderPreview?orderNo=".concat(e,"&addTime=").concat(o)})},handleAllQuality:function(n){var e=n.orderNo,o=n.addTime;t.navigateTo({url:"/pageA/deliveryOrder/orderDetail/orderUnbound?orderNo=".concat(e,"&addTime=").concat(o)})},handleUnoutboundQuality:function(n){var e=n.orderNo,o=n.addTime;t.navigateTo({url:"/pageA/deliveryOrder/orderDetail/orderUnbound?orderNo=".concat(e,"&addTime=").concat(o)})},getallList:function(){var n=this;t.showLoading({title:"加载中"});var e={pageNum:this.queryParams.pageNum,pageSize:this.queryParams.pageSize};this.request("orderapi/UnSignInfo",e,"POST",{}).then((function(e){n.isLoaded=!0,t.hideLoading(),n.allList=e.rows,n.total=e.total})).catch((function(n){console.error("请求失败",n)})).finally((function(){t.hideLoading()})),this.request("orderapi/UnOutInfo",e,"POST",{}).then((function(e){n.unoutboundLoaded=!0,t.hideLoading(),n.unoutboundList=e.rows,n.unoutboundTotal=e.total})).catch((function(n){console.error("请求失败",n)})).finally((function(){t.hideLoading()}))},onPullDownRefresh:function(){var n=this;return(0,r.default)(a.default.mark((function e(){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.queryParams.pageNum=1,n.total=0,n.allList=[],n.isLoaded=!1,n.unoutboundTotal=0,n.unoutboundList=[],n.unoutboundLoaded=!1,e.prev=7,e.next=10,n.getallList();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](7),n.$refs.uToast.show({message:"数据加载失败",type:"error"});case 15:return e.prev=15,t.stopPullDownRefresh(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[7,12,15,18]])})))()},closeAdd:function(){this.isAddToMyMiniProgram=!1},checkIsAddedToMyMiniProgram:function(){var e=this;try{n.checkIsAddedToMyMiniProgram({success:function(n){console.log("added",n),n.added?e.isAddToMyMiniProgram=!1:e.isAddToMyMiniProgram=!0},fail:function(){e.isAddToMyMiniProgram=!1}})}catch(o){console.log("error",o)}},closeMiniprogram:function(){this.isAddToMyMiniProgram=!1},handleSkip:function(n){console.log(n),0==n?this.isLogin?t.navigateTo({url:"/pageA/deliveryOrder/deliveryOrder"}):t.navigateTo({url:"/pages/login/login"}):1==n?this.isLogin?t.navigateTo({url:"/pageA/codequery/codequery"}):t.navigateTo({url:"/pages/login/login"}):2==n?t.navigateTo({url:"/pageA/industryTrends/industryTrends"}):3==n&&t.navigateTo({url:"/pages/me/mynotice/mynotice"})},getBannerlist:function(){var n=this;this.request("wxapi/loadBaneer",{imgType:"0"},"GET").then((function(e){if(e){for(var o={},t=0;t<e.data.length;t++)o[t]={},o[t]["bannerImg"]=n.myimgurl()+e.data[t].bannerImg;n.bannerList=Object.values(o)}}))}}};e.default=u}).call(this,o("bc2e")["default"],o("543d")["default"])}},[["0e12","common/runtime","common/vendor"]]]);