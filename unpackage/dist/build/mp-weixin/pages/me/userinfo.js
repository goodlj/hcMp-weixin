(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/me/userinfo"],{"0a1f":function(e,t,n){},1175:function(e,t,n){"use strict";var o=n("0a1f"),a=n.n(o);a.a},"39d3":function(e,t,n){"use strict";n.r(t);var o=n("eb8d"),a=n.n(o);for(var r in o)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},"561e":function(e,t,n){"use strict";(function(e,t){var o=n("4ea4");n("cd77");o(n("66fd"));var a=o(n("713a"));e.__webpack_require_UNI_MP_PLUGIN__=n,t(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"713a":function(e,t,n){"use strict";n.r(t);var o=n("d393"),a=n("39d3");for(var r in a)["default"].indexOf(r)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n("1175");var i=n("f0c5"),u=Object(i["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=u.exports},d393:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o}));var o={uAvatar:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-avatar/u-avatar")]).then(n.bind(null,"4b96"))},uButton:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-button/u-button")]).then(n.bind(null,"c216"))}},a=function(){var e=this.$createElement;this._self._c},r=[]},eb8d:function(e,t,n){"use strict";(function(e){var o=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=o(n("9523")),r=n("c1ea");n("3022");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={data:function(){return{src:"",userinfo:{},savepth:""}},onShow:function(){this.userinfo=(0,r.getUserInfo)()||{}},methods:{chooseaAatar:function(e){console.log(e),this.src=e.detail.avatarUrl,this.uploadFile(e.detail.avatarUrl)},uploadFile:function(t){var n=this;e.showLoading({title:"加载中..."}),e.uploadFile({url:(0,r.getConfig)().uploadUrl,fileType:"image",name:"file",filePath:t,header:{"Content-Type":"multipart/form-data"},success:function(t){e.hideLoading();var o=JSON.parse(t.data);console.log(o),200==o.code&&(n.savepth=o.url,console.log("this.savepth",n.savepth))},fail:function(e){console.log("err",e)}})},saveInfo:function(){var t={};t.avatarUrl=this.savepth,e.showLoading({title:"保存中..."}),console.log(t),this.request("saveUserInfo",t,"POST",{}).then((function(t){if(console.log("wxloginres: ",t),200==t.code){e.hideLoading(),setTimeout((function(){e.hideLoading()}),2e3);var n=(0,r.getUserInfo)(),o=u(u({},n),t.data);(0,r.setUserInfo)(o),e.navigateBack({delta:1})}else e.showToast({icon:"none",title:"登录失败，请稍后试试！",duration:2e3})}))},cancel:function(){e.navigateBack({delta:1})}}};t.default=c}).call(this,n("543d")["default"])}},[["561e","common/runtime","common/vendor"]]]);