(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pageA/deliveryOrder/orderDetail/orderPreview"],{"1ef8":function(e,t,r){"use strict";r.r(t);var o=r("79bf"),a=r.n(o);for(var n in o)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return o[e]}))}(n);t["default"]=a.a},3868:function(e,t,r){},"79bf":function(e,t,r){"use strict";(function(e,o){var a=r("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r("2eee")),i=a(r("c973")),c=a(r("448a")),s=a(r("9523")),l=r("c1ea");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var d={data:function(){return{orderNo:"",addTime:"",detailUrl:"",orderDetaillist:[],isload:!1,totalNum:null,queryParams:{pageNum:1,pageSize:10}}},onLoad:function(e){console.log(e),this.orderNo=e.orderNo,this.addTime=e.addTime,this.detailUrl="/pageA/deliveryOrder/orderDetail/orderPreview?orderNo=".concat(this.orderNo,"&addTime=").concat(this.addTime),this.detailList()},onShow:function(){},computed:{serialNoText:function(){return function(e){return"Y"===e?"有":"N"===e?"无":e}}},methods:{handleContact:function(e){console.log("客服消息回调",e)},handleQualitydown:function(t){console.log("质检",t),e.showLoading({title:"文件下载中..."});var r="".concat(t.skuDescr);e.downloadFile({url:"https://xhzl.sxhcyywl.com:1443/prod-api/orderapi/pcDetailDownload/".concat(t.orderNo,"?fileId=").concat(t.fileId),filePath:"".concat(o.env.USER_DATA_PATH,"/").concat(r,".zip"),header:{Authorization:"Bearer ".concat((0,l.getToken)())},success:function(t){if(console.log("文件下载",t),e.hideLoading(),200===t.statusCode){var r=t.filePath||t.tempFilePath;o.shareFileMessage({filePath:r,success:function(){console.log("ceshi")}})}else e.hideLoading(),e.showToast({title:"服务器错误：".concat(t.statusCode),icon:"none"})},fail:function(t){console.log("err",t),e.hideLoading(),e.showToast({title:"下载失败：".concat(t.errMsg),icon:"none"})}})},detailList:function(){var t=this;e.showLoading({title:"加载中"});var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({orderNo:this.orderNo,addTime:this.addTime},this.queryParams);this.request("orderapi/getOrderDetial",r,"POST",{}).then((function(r){t.isload=!0,e.hideLoading(),t.orderDetaillist=[].concat((0,c.default)(t.orderDetaillist),(0,c.default)(r.rows)),t.totalNum=r.total}))},onPullDownRefresh:function(){var t=this;return(0,i.default)(n.default.mark((function r(){return n.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.queryParams.pageNum=1,t.totalNum=0,t.orderDetaillist=[],r.prev=3,r.next=6,t.detailList();case 6:r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](3),t.$refs.uToast.show({message:"数据加载失败",type:"error"});case 11:return r.prev=11,e.stopPullDownRefresh(),r.finish(11);case 14:case"end":return r.stop()}}),r,null,[[3,8,11,14]])})))()},onReachBottom:function(){this.queryParams.pageNum*this.queryParams.pageSize>=this.totalNum?this.$refs.uToast.show({message:"加载完成",type:"default"}):(this.queryParams.pageNum+=1,this.detailList())}}};t.default=d}).call(this,r("543d")["default"],r("bc2e")["default"])},"877d":function(e,t,r){"use strict";var o=r("3868"),a=r.n(o);a.a},adc9:function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return o}));var o={uToast:function(){return r.e("node-modules/uview-ui/components/u-toast/u-toast").then(r.bind(null,"8ee3"))}},a=function(){var e=this,t=e.$createElement,r=(e._self._c,e.orderDetaillist.length),o=r>0?e.__map(e.orderDetaillist,(function(t,r){var o=e.__get_orig(t),a=e.serialNoText(t.serialNoFlag);return{$orig:o,m0:a}})):null,a=0==e.orderDetaillist.length&&e.isload;e.$mp.data=Object.assign({},{$root:{g0:r,l0:o,g1:a}})},n=[]},c315:function(e,t,r){"use strict";(function(e,t){var o=r("4ea4");r("cd77");o(r("66fd"));var a=o(r("c759"));e.__webpack_require_UNI_MP_PLUGIN__=r,t(a.default)}).call(this,r("bc2e")["default"],r("543d")["createPage"])},c759:function(e,t,r){"use strict";r.r(t);var o=r("adc9"),a=r("1ef8");for(var n in a)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return a[e]}))}(n);r("877d");var i=r("f0c5"),c=Object(i["a"])(a["default"],o["b"],o["c"],!1,null,"6c2b2166",null,!1,o["a"],void 0);t["default"]=c.exports}},[["c315","common/runtime","common/vendor"]]]);