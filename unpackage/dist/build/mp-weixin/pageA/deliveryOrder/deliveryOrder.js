(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pageA/deliveryOrder/deliveryOrder"],{"02a8":function(e,n,t){"use strict";(function(e,n){var o=t("4ea4");t("cd77");o(t("66fd"));var u=o(t("1184"));e.__webpack_require_UNI_MP_PLUGIN__=t,n(u.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},1184:function(e,n,t){"use strict";t.r(n);var o=t("3a23"),u=t("6528");for(var a in u)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return u[e]}))}(a);t("74a6");var r=t("f0c5"),i=Object(r["a"])(u["default"],o["b"],o["c"],!1,null,"7229bb82",null,!1,o["a"],void 0);n["default"]=i.exports},"3a23":function(e,n,t){"use strict";t.d(n,"b",(function(){return u})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return o}));var o={uToast:function(){return t.e("node-modules/uview-ui/components/u-toast/u-toast").then(t.bind(null,"8ee3"))},uSearch:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-search/u-search")]).then(t.bind(null,"e3df"))},uTabs:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-tabs/u-tabs")]).then(t.bind(null,"7a43"))},uEmpty:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-empty/u-empty")]).then(t.bind(null,"7ae9"))},uPopup:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-popup/u-popup")]).then(t.bind(null,"34e6"))},"u-Form":function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u--form/u--form")]).then(t.bind(null,"7f6f"))},uFormItem:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-form-item/u-form-item")]).then(t.bind(null,"f4a9"))},uInput:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-input/u-input")]).then(t.bind(null,"0015"))},uIcon:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-icon/u-icon")]).then(t.bind(null,"b223"))},uCalendar:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-calendar/u-calendar")]).then(t.bind(null,"111f"))},uButton:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-button/u-button")]).then(t.bind(null,"c216"))}},u=function(){var e=this,n=e.$createElement,t=(e._self._c,0===e.current?e.allList&&e.allList.length>0:null);e._isMounted||(e.e0=function(n){e.showPopup=!1},e.e1=function(n){e.showCalendar=!0},e.e2=function(n){e.showCalendar=!1}),e.$mp.data=Object.assign({},{$root:{g0:t}})},a=[]},6023:function(e,n,t){},6528:function(e,n,t){"use strict";t.r(n);var o=t("92ff"),u=t.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=u.a},"74a6":function(e,n,t){"use strict";var o=t("6023"),u=t.n(o);u.a},"92ff":function(e,n,t){"use strict";(function(e){var o=t("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=o(t("2eee")),a=o(t("c973")),r=o(t("448a")),i=(t("3022"),{data:function(){return{showPopup:!1,orderValue:"",form:{timeValue:""},rules:{timeValue:[{required:!0,message:"请输入时间范围",trigger:["blur","change"]}]},showCalendar:!1,current:0,allList:[],total:0,showMoreData:!1,queryParams:{pageNum:1,pageSize:10},startTime:"",endTime:"",minDate:new Date((new Date).getFullYear()-1,0,1),maxDate:new Date((new Date).getFullYear()+1,0,1),list:[{name:"全部"},{name:"待配送"},{name:"配送中"},{name:"待签收"},{name:"已完成"}]}},onReady:function(){this.$refs.calendar.setFormatter(this.formatter),this.$refs.uForm.setRules(this.rules)},onShow:function(){e.pageScrollTo({scrollTop:0})},methods:{getallList:function(){var n=this;e.showLoading({title:"加载中"});var t={pageNum:this.queryParams.pageNum,pageSize:this.queryParams.pageSize,startTime:this.startTime,endTime:this.endTime,contactTel:"13993076578"};this.request("orderapi/orderList",t,"POST",{}).then((function(t){e.hideLoading(),n.allList=[].concat((0,r.default)(n.allList),(0,r.default)(t.data.data.list)),n.total=t.data.data.totalCount}))},onReachBottom:function(){console.log("已经触底了"),this.queryParams.pageNum*this.queryParams.pageSize>=this.total?this.showMoreData=!0:(this.queryParams.pageNum+=1,this.getallList())},onPullDownRefresh:function(){var n=this;return(0,a.default)(u.default.mark((function t(){return u.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.queryParams.pageNum=1,n.total=0,n.allList=[],t.prev=3,t.next=6,n.getallList();case 6:t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](3),n.$refs.uToast.show({message:"数据加载失败",type:"error"});case 11:return t.prev=11,e.stopPullDownRefresh(),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[3,8,11,14]])})))()},change:function(e){this.current=e.index},searchClick:function(){console.log(this.orderValue)},handleScreening:function(){this.showPopup=!0},timeConfirm:function(e){console.log(e),e.length>=2&&(this.startTime=e[0],this.endTime=e[e.length-1],this.form.timeValue="".concat(this.startTime,"~").concat(this.endTime)),this.showCalendar=!1},formatter:function(e){var n=new Date;n.getMonth(),n.getDate();return e},submit:function(){var e=this;this.$refs.uForm.validate().then((function(n){e.getallList()})).catch((function(n){e.$refs.uToast.show({message:"校验失败",type:"error"})})),this.showPopup=!1},cancel:function(){this.showPopup=!1}}});n.default=i}).call(this,t("543d")["default"])}},[["02a8","common/runtime","common/vendor"]]]);