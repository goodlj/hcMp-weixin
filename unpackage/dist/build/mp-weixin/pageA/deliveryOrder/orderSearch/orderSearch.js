(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pageA/deliveryOrder/orderSearch/orderSearch"],{"0b3b":function(e,o,n){},4135:function(e,o,n){"use strict";n.r(o);var t=n("5dd8"),i=n.n(t);for(var a in t)["default"].indexOf(a)<0&&function(e){n.d(o,e,(function(){return t[e]}))}(a);o["default"]=i.a},"5dd8":function(e,o,n){"use strict";(function(e,t){Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=n("c1ea"),a={data:function(){return{orderValue:"",loading:!1,total:0,allList:[]}},onLoad:function(){},methods:{handlesingleConfirm:function(o){var n=o.orderNo,t={orderNo:n},i=this;e.showModal({title:"提示",content:"是否确认收货?",success:function(e){e.confirm&&i.request("orderapi/orderSure",t,"GET",{}).then((function(){i.commonSearch()}))}})},handlesingleQuality:function(o){var n=o.orderNo,t=o.addTime;e.navigateTo({url:"../orderDetail/orderPreview?orderNo=".concat(n,"&addTime=").concat(t)})},handlesingleElec:function(o){e.showLoading({title:"文件下载中..."});var n=o.orderNo;e.downloadFile({url:"https://xhzl.sxhcyywl.com:1443/prod-api/orderapi/getElectron?orderNo=".concat(o.orderNo),filePath:"".concat(t.env.USER_DATA_PATH,"/").concat(n,".pdf"),header:{Authorization:"Bearer ".concat((0,i.getToken)())},success:function(o){if(console.log("文件下载",o),e.hideLoading(),200===o.statusCode){var n=o.filePath||o.tempFilePath;e.openDocument({filePath:n,fileType:"pdf",showMenu:!0,success:function(){e.hideLoading(),e.showToast({title:"文件已打开,请通过右上角菜单进行分析保存",icon:"none"})},fail:function(o){e.hideLoading(),e.showToast({title:"打开失败：".concat(o.errMsg||"未知错误"),icon:"none"})}})}else e.hideLoading(),e.showToast({title:"服务器错误：".concat(o.statusCode),icon:"none"})},fail:function(o){console.log("err",o),e.hideLoading(),e.showToast({title:"下载失败：".concat(o.errMsg),icon:"none"})}})},handlesingleLogistics:function(o){var n=o.orderNo;e.navigateTo({url:"../orderLogistics/orderLogistics?orderNo=".concat(n)})},handleScan:function(){var o=this;e.scanCode({success:function(e){console.log("条码内容:"+e.result),o.orderValue=e.result},fail:function(o){console.log(o);var n={"scanCode:fail auth deny":"摄像头权限被拒绝","scanCode:fail system permission denied":"系统权限不足","scanCode:fail timeout":"扫描超时","scanCode:fail camera not available":"摄像头被占用","scanCode:fail cancel":"已取消扫码"}[o.errMsg]||"未知错误";e.showToast({title:n,icon:"none"})}})},commonSearch:function(){var o=this,n=this.orderValue.replace(/\s+/g,"");if(n){e.showLoading({title:"加载中"});var t={orderNo:n};this.request("orderapi/orderList",t,"POST",{}).then((function(n){o.loading=!0,e.hideLoading(),o.allList=n.rows,o.total=n.total})).catch((function(e){console.error("请求失败",e)})).finally((function(){e.hideLoading()}))}else e.showToast({title:"请输入订单号",icon:"none"})},gotoSearch:function(){this.commonSearch()},searchClick:function(){this.commonSearch()}}};o.default=a}).call(this,n("543d")["default"],n("bc2e")["default"])},b343:function(e,o,n){"use strict";n.d(o,"b",(function(){return i})),n.d(o,"c",(function(){return a})),n.d(o,"a",(function(){return t}));var t={uSearch:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-search/u-search")]).then(n.bind(null,"e3df"))},uEmpty:function(){return Promise.all([n.e("common/vendor"),n.e("node-modules/uview-ui/components/u-empty/u-empty")]).then(n.bind(null,"7ae9"))}},i=function(){var e=this.$createElement,o=(this._self._c,this.allList&&this.allList.length>0),n=this.loading&&0==this.allList.length;this.$mp.data=Object.assign({},{$root:{g0:o,g1:n}})},a=[]},bd72:function(e,o,n){"use strict";var t=n("0b3b"),i=n.n(t);i.a},d79c:function(e,o,n){"use strict";(function(e,o){var t=n("4ea4");n("cd77");t(n("66fd"));var i=t(n("e384"));e.__webpack_require_UNI_MP_PLUGIN__=n,o(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},e384:function(e,o,n){"use strict";n.r(o);var t=n("b343"),i=n("4135");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(o,e,(function(){return i[e]}))}(a);n("bd72");var r=n("f0c5"),c=Object(r["a"])(i["default"],t["b"],t["c"],!1,null,"4fd03d5c",null,!1,t["a"],void 0);o["default"]=c.exports}},[["d79c","common/runtime","common/vendor"]]]);