(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pageA/codequery/codequery"],{277:function(e,n,t){"use strict";(function(e,n){var a=t(4);t(26);a(t(25));var o=a(t(278));e.__webpack_require_UNI_MP_PLUGIN__=t,n(o.default)}).call(this,t(1)["default"],t(2)["createPage"])},278:function(e,n,t){"use strict";t.r(n);var a=t(279),o=t(281);for(var r in o)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return o[e]}))}(r);t(283);var c,d=t(42),i=Object(d["default"])(o["default"],a["render"],a["staticRenderFns"],!1,null,null,null,!1,a["components"],c);i.options.__file="pageA/codequery/codequery.vue",n["default"]=i.exports},279:function(e,n,t){"use strict";t.r(n);var a=t(280);t.d(n,"render",(function(){return a["render"]})),t.d(n,"staticRenderFns",(function(){return a["staticRenderFns"]})),t.d(n,"recyclableRender",(function(){return a["recyclableRender"]})),t.d(n,"components",(function(){return a["components"]}))},280:function(e,n,t){"use strict";var a;t.r(n),t.d(n,"render",(function(){return o})),t.d(n,"staticRenderFns",(function(){return c})),t.d(n,"recyclableRender",(function(){return r})),t.d(n,"components",(function(){return a}));try{a={uSearch:function(){return Promise.all([t.e("common/vendor"),t.e("node-modules/uview-ui/components/u-search/u-search")]).then(t.bind(null,484))}}}catch(d){if(-1===d.message.indexOf("Cannot find module")||-1===d.message.indexOf(".vue"))throw d;console.error(d.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var o=function(){var e=this,n=e.$createElement,t=(e._self._c,e.drugCodelist&&e.drugCodelist.length>0),a=e.fatherData.length,o=e.sonData.length,r=e.grandsonData.length;e.$mp.data=Object.assign({},{$root:{g0:t,g1:a,g2:o,g3:r}})},r=!1,c=[];o._withStripped=!0},281:function(e,n,t){"use strict";t.r(n);var a=t(282),o=t.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(r);n["default"]=o.a},282:function(e,n,t){"use strict";(function(e){var a=t(4);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(t(18)),r={data:function(){return{drugCodelist:[],orderValue:"83422450248465170609",dataCode:[],fatherData:[],sonData:[],grandsonData:[],tableData:[]}},onLoad:function(){this.searchClick()},methods:{searchClick:function(){var n=this;if(this.orderValue){e.showLoading({title:"加载中"}),console.log(this.orderValue);var t={code:this.orderValue};this.request("wxapi/getCodeInfo",t,"GET",{}).then((function(t){"SUCCESS"==t.data.msgCode[0]?(e.hideLoading(),n.drugCodelist=t.data.baseInfo,n.dataCode=t.data.treeNode[0],n.getFatherData(n.dataCode)):(e.hideLoading(),e.showToast({title:t.data.msgInfo[0],icon:"none",duration:5e3}),n.drugCodelist=[],n.dataCode=[],n.fatherData=[],n.sonData=[],n.grandsonData=[])}))}else e.showToast({title:"请输入追溯码",icon:"none"})},getFatherData:function(e){var n=this;e.forEach((function(e){n.fatherData=[],n.fatherData.push({value:e.code,clicked:!1,id:e.code}),e.children&&n.getSonData(e.children)}))},getSonData:function(e){var n=this;this.sonData=[],this.grandsonData=[],e.forEach((function(e){var t={value:e.code,clicked:!1,id:e.code,children:[]};e.children&&(e.children.map((function(e){t.children.push({value:e.code,clicked:!1,id:e.code})})),n.getGrandsonData(e.children)),n.sonData.push(t)}))},getGrandsonData:function(e){var n=this;e.forEach((function(e){n.grandsonData.push({value:e.code,clicked:!1,id:e.code})}))},handlefatherNode:function(e){e.clicked?e.clicked=!1:(this.fatherData.forEach((function(e){e.clicked=!1})),e.clicked=!0)},handlesonNode:function(e){var n=this;this.sonData.forEach((function(t){var a;e.id==t.id&&(n.grandsonData=[],(a=n.grandsonData).push.apply(a,(0,o.default)(e.children)),console.log(n.grandsonData))})),e.clicked?e.clicked=!1:(this.sonData.forEach((function(e){e.clicked=!1})),e.clicked=!0)},handlegrandsonNode:function(e){e.clicked?e.clicked=!1:(this.grandsonData.forEach((function(e){e.clicked=!1})),e.clicked=!0)}}};n.default=r}).call(this,t(2)["default"])},283:function(e,n,t){"use strict";t.r(n);var a=t(284),o=t.n(a);for(var r in a)["default"].indexOf(r)<0&&function(e){t.d(n,e,(function(){return a[e]}))}(r);n["default"]=o.a},284:function(e,n,t){}},[[277,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pageA/codequery/codequery.js.map