(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{167:function(n,e,o){"use strict";(function(n,e){var t=o(4);o(26);t(o(25));var i=t(o(168));n.__webpack_require_UNI_MP_PLUGIN__=o,e(i.default)}).call(this,o(1)["default"],o(2)["createPage"])},168:function(n,e,o){"use strict";o.r(e);var t=o(169),i=o(171);for(var r in i)["default"].indexOf(r)<0&&function(n){o.d(e,n,(function(){return i[n]}))}(r);o(173);var a,d=o(42),s=Object(d["default"])(i["default"],t["render"],t["staticRenderFns"],!1,null,"57280228",null,!1,t["components"],a);s.options.__file="pages/index/index.vue",e["default"]=s.exports},169:function(n,e,o){"use strict";o.r(e);var t=o(170);o.d(e,"render",(function(){return t["render"]})),o.d(e,"staticRenderFns",(function(){return t["staticRenderFns"]})),o.d(e,"recyclableRender",(function(){return t["recyclableRender"]})),o.d(e,"components",(function(){return t["components"]}))},170:function(n,e,o){"use strict";var t;o.r(e),o.d(e,"render",(function(){return i})),o.d(e,"staticRenderFns",(function(){return a})),o.d(e,"recyclableRender",(function(){return r})),o.d(e,"components",(function(){return t}));try{t={uToast:function(){return o.e("node-modules/uview-ui/components/u-toast/u-toast").then(o.bind(null,347))},uSwiper:function(){return Promise.all([o.e("common/vendor"),o.e("node-modules/uview-ui/components/u-swiper/u-swiper")]).then(o.bind(null,354))},uIcon:function(){return Promise.all([o.e("common/vendor"),o.e("node-modules/uview-ui/components/u-icon/u-icon")]).then(o.bind(null,362))},uEmpty:function(){return Promise.all([o.e("common/vendor"),o.e("node-modules/uview-ui/components/u-empty/u-empty")]).then(o.bind(null,371))}}}catch(d){if(-1===d.message.indexOf("Cannot find module")||-1===d.message.indexOf(".vue"))throw d;console.error(d.message),console.error("1. 排查组件名称拼写是否正确"),console.error("2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"),console.error("3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件")}var i=function(){var n=this,e=n.$createElement,o=(n._self._c,n.allList&&n.allList.length>0),t=n.isLoaded&&0==n.allList.length,i=n.unoutboundList&&n.unoutboundList.length>0,r=n.unoutboundLoaded&&0==n.unoutboundList.length;n.$mp.data=Object.assign({},{$root:{g0:o,g1:t,g2:i,g3:r}})},r=!1,a=[];i._withStripped=!0},171:function(n,e,o){"use strict";o.r(e);var t=o(172),i=o.n(t);for(var r in t)["default"].indexOf(r)<0&&function(n){o.d(e,n,(function(){return t[n]}))}(r);e["default"]=i.a},172:function(n,e,o){"use strict";(function(n,t){var i=o(4);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(o(30)),a=i(o(32)),d=o(33),s=function(){o.e("pages/index/programs/addMini").then(function(){return resolve(o(379))}.bind(null,o)).catch(o.oe)},u={components:{addMini:s},data:function(){return{isAddToMyMiniProgram:void 0,isLogin:void 0,isfirst:void 0,userinfo:{},loginuserinfo:{},bannerList:[],navList:[{navUrl:"https://xhzl.sxhcyywl.com:1443/prod-api/profile/upload/2025/04/25/sc10_20250425130214A012.png",title:"订单查询"},{navUrl:"https://xhzl.sxhcyywl.com:1443/prod-api/profile/upload/2025/04/25/sc6_20250425130128A008.png",title:"监管码"},{navUrl:"https://xhzl.sxhcyywl.com:1443/prod-api/profile/upload/2025/05/29/trend_20250529085419A019.png",title:"行业动态"},{navUrl:"https://xhzl.sxhcyywl.com:1443/prod-api/profile/upload/2025/06/03/notice_20250603094308A046.png",title:"通知公告"}],messageData:[{noticeTitle:"欢迎使用海川小海智链",tag:"感谢"}],queryParams:{pageNum:1,pageSize:5},total:0,allList:[],isLoaded:!1,unoutboundTotal:0,unoutboundList:[],unoutboundLoaded:!1}},onLoad:function(){this.getBannerlist(),console.log("添加小程序",n.canIUse("checkIsAddedToMyMiniProgram")),n.canIUse("checkIsAddedToMyMiniProgram")&&this.checkIsAddedToMyMiniProgram()},onShow:function(){this.checkLoginAndLoadData(),this.isfirst=(0,d.getIsfirst)(),this.userinfo=(0,d.getUserInfo)()||{},this.loginuserinfo=(0,d.getloginuserInfo)()||{}},methods:{checkLoginAndLoadData:function(){this.isLogin=(0,d.getToken)(),this.isLogin?this.getallList():(this.allList=[],this.total=0,this.unoutboundList=[],this.unoutboundTotal=0)},goLogin:function(){t.navigateTo({url:"/pages/login/login"})},handleConfirm:function(n){var e=n.orderNo,o={orderNo:e},i=this;t.showModal({title:"提示",content:"是否确认收货?",success:function(n){n.confirm&&i.request("orderapi/orderSure",o,"GET",{}).then((function(){i.getallList()}))}})},goUnsign:function(){this.isLogin?t.navigateTo({url:"/pageA/deliveryOrder/deliveryOrder?tabIndex=1"}):t.navigateTo({url:"/pages/login/login"})},goUnbound:function(){this.isLogin?t.navigateTo({url:"/pageA/deliveryOrder/deliveryOrder?tabIndex=2"}):t.navigateTo({url:"/pages/login/login"})},commonLogistics:function(n){var e=n.orderNo;t.navigateTo({url:"/pageA/deliveryOrder/orderLogistics/orderLogistics?orderNo=".concat(e)})},handleunsignLogistics:function(n){this.commonLogistics(n)},handleunboundLogistics:function(n){this.commonLogistics(n)},commonElec:function(e){t.showLoading({title:"文件下载中..."});var o=e.orderNo;t.downloadFile({url:"https://xhzl.sxhcyywl.com:1443/prod-api/orderapi/getElectron?orderNo=".concat(e.orderNo),filePath:"".concat(n.env.USER_DATA_PATH,"/").concat(o,".pdf"),header:{Authorization:"Bearer ".concat((0,d.getToken)())},success:function(n){if(console.log("文件下载",n),t.hideLoading(),200===n.statusCode){var e=n.filePath||n.tempFilePath;t.openDocument({filePath:e,fileType:"pdf",showMenu:!0,success:function(){t.hideLoading(),t.showToast({title:"文件已打开,请通过右上角菜单进行分析保存",icon:"none"})},fail:function(n){t.hideLoading(),t.showToast({title:"打开失败：".concat(n.errMsg||"未知错误"),icon:"none"})}})}else t.hideLoading(),t.showToast({title:"服务器错误：".concat(n.statusCode),icon:"none"})},fail:function(n){console.log("err",n),t.hideLoading(),t.showToast({title:"下载失败：".concat(n.errMsg),icon:"none"})}})},handleUnoutboundElec:function(n){this.commonElec(n)},handleElec:function(n){this.commonElec(n)},handleQuality:function(n){var e=n.orderNo,o=n.addTime;t.navigateTo({url:"/pageA/deliveryOrder/orderDetail/orderPreview?orderNo=".concat(e,"&addTime=").concat(o)})},handleAllQuality:function(n){var e=n.orderNo,o=n.addTime;t.navigateTo({url:"/pageA/deliveryOrder/orderDetail/orderUnbound?orderNo=".concat(e,"&addTime=").concat(o)})},handleUnoutboundQuality:function(n){var e=n.orderNo,o=n.addTime;t.navigateTo({url:"/pageA/deliveryOrder/orderDetail/orderUnbound?orderNo=".concat(e,"&addTime=").concat(o)})},getallList:function(){var n=this;t.showLoading({title:"加载中"});var e={pageNum:this.queryParams.pageNum,pageSize:this.queryParams.pageSize};this.request("orderapi/UnSignInfo",e,"POST",{}).then((function(e){n.isLoaded=!0,t.hideLoading(),n.allList=e.rows,n.total=e.total})).catch((function(n){console.error("请求失败",n)})).finally((function(){t.hideLoading()})),this.request("orderapi/UnOutInfo",e,"POST",{}).then((function(e){n.unoutboundLoaded=!0,t.hideLoading(),n.unoutboundList=e.rows,n.unoutboundTotal=e.total})).catch((function(n){console.error("请求失败",n)})).finally((function(){t.hideLoading()}))},onPullDownRefresh:function(){var n=this;return(0,a.default)(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.queryParams.pageNum=1,n.total=0,n.allList=[],n.isLoaded=!1,n.unoutboundTotal=0,n.unoutboundList=[],n.unoutboundLoaded=!1,e.prev=7,e.next=10,n.getallList();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](7),n.$refs.uToast.show({message:"数据加载失败",type:"error"});case 15:return e.prev=15,t.stopPullDownRefresh(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[7,12,15,18]])})))()},closeAdd:function(){this.isAddToMyMiniProgram=!1},checkIsAddedToMyMiniProgram:function(){var e=this;try{n.checkIsAddedToMyMiniProgram({success:function(n){console.log("added",n),n.added?e.isAddToMyMiniProgram=!1:e.isAddToMyMiniProgram=!0},fail:function(){e.isAddToMyMiniProgram=!1}})}catch(o){console.log("error",o)}},closeMiniprogram:function(){this.isAddToMyMiniProgram=!1},handleSkip:function(n){console.log(n),0==n?this.isLogin?t.navigateTo({url:"/pageA/deliveryOrder/deliveryOrder"}):t.navigateTo({url:"/pages/login/login"}):1==n?this.isLogin?t.navigateTo({url:"/pageA/codequery/codequery"}):t.navigateTo({url:"/pages/login/login"}):2==n?t.navigateTo({url:"/pageA/industryTrends/industryTrends"}):3==n&&t.navigateTo({url:"/pages/me/mynotice/mynotice"})},getBannerlist:function(){var n=this;this.request("wxapi/loadBaneer",{imgType:"0"},"GET").then((function(e){if(e){for(var o={},t=0;t<e.data.length;t++)o[t]={},o[t]["bannerImg"]=n.myimgurl()+e.data[t].bannerImg;n.bannerList=Object.values(o)}}))}}};e.default=u}).call(this,o(1)["default"],o(2)["default"])},173:function(n,e,o){"use strict";o.r(e);var t=o(174),i=o.n(t);for(var r in t)["default"].indexOf(r)<0&&function(n){o.d(e,n,(function(){return t[n]}))}(r);e["default"]=i.a},174:function(n,e,o){}},[[167,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/index.js.map