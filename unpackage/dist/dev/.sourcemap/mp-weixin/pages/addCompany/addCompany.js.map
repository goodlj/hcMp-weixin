{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Rabbit/Documents/HBuilderProjects/WxProgram/WeixProgram/pages/addCompany/addCompany.vue?6f29","webpack:///C:/Users/Rabbit/Documents/HBuilderProjects/WxProgram/WeixProgram/pages/addCompany/addCompany.vue?ff0b","webpack:///C:/Users/Rabbit/Documents/HBuilderProjects/WxProgram/WeixProgram/pages/addCompany/addCompany.vue?f8ae","webpack:///C:/Users/Rabbit/Documents/HBuilderProjects/WxProgram/WeixProgram/pages/addCompany/addCompany.vue?55c5","uni-app:///pages/addCompany/addCompany.vue","webpack:///C:/Users/Rabbit/Documents/HBuilderProjects/WxProgram/WeixProgram/pages/addCompany/addCompany.vue?602d"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","renderjs","component","options","__file","components","uAvatar","uForm","uFormItem","uInput","uIcon","uCode","uButton","uPicker","e","message","indexOf","console","error","render","_vm","this","_h","$createElement","_self","_c","_isMounted","e0","$event","showNature","hideKeyboard","recyclableRender","staticRenderFns","_withStripped","data","tips","seconds","src","username","userinfo","savepth","isStorevalue","form","nickName","userName","phone","companyName","isStore","verifyCode","columns","label","id","rules","required","trigger","validator","onReady","onShow","uni","methods","codeChange","validatePhone","getCode","title","companyNameBlur","icon","chooseaAatar","uploadFile","url","fileType","name","filePath","header","Authorization","success","fail","cancel","selectNature","cancelNature","saveInfo","that","setTimeout"],"mappings":"sJAAA,MAGA,aACA,YAFAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,a,gFCLX,oIACIC,EADJ,QASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,WACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,kCACZ,aAAAF,E,0CCvBf,uQ,iCCAA,IAAIG,EAAJ,0LACA,IACEA,EAAa,CACXC,QAAS,WACP,OAAO,sHAITC,MAAO,WACL,OAAO,kHAITC,UAAW,WACT,OAAO,4HAITC,OAAQ,WACN,OAAO,oHAITC,MAAO,WACL,OAAO,kHAITC,MAAO,WACL,OAAO,kHAITC,QAAS,WACP,OAAO,sHAITC,QAAS,WACP,OAAO,uHAKX,MAAOC,GACP,IAC+C,IAA7CA,EAAEC,QAAQC,QAAQ,wBACa,IAA/BF,EAAEC,QAAQC,QAAQ,QAWlB,MAAMF,EATNG,QAAQC,MAAMJ,EAAEC,SAChBE,QAAQC,MAAM,mBACdD,QAAQC,MACN,uFAEFD,QAAQC,MACN,mDAMN,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,GACdL,EAAIM,aACPN,EAAIO,GAAK,SAAUC,GACjBR,EAAIS,YAAa,EACjBT,EAAIU,kBAINC,GAAmB,EACnBC,EAAkB,GACtBb,EAAOc,eAAgB,G,iCC1EvB,yHAAsvB,eAAG,G,0ICyDzvB,QAQA,ilBACA,CAEAC,gBACA,OAEAC,QACAC,WACAC,mJACAC,YACAC,YACAC,WAEAC,gBACAC,MACAC,YACAC,YACAC,SACAC,eACAC,WACAC,eAGAnB,cACAoB,SACA,EACAC,YACAC,QAEA,CACAD,YACAC,UAGAC,OACAT,WACAU,YACAtC,gBACAuC,4BAEAV,WACAS,YACAtC,gBACAuC,4BAEAR,cACAO,YACAtC,kBACAuC,4BAEAP,UACAM,YACAtC,kBACAuC,4BAEAN,aACAK,YACAtC,iBACAuC,4BAEAT,QACAQ,YACAtC,iBACAuC,2BAEA,CAEAC,0BACA,4BAEAxC,kBAEAuC,+BAMAE,mBACA,uCAEAC,kBACAC,oBAEAC,SACAC,uBACA3C,sBACA,aAGA4C,0BACA,+BAEAC,mBAAA,WAEA,oCAIA,6BAEAJ,eACAK,kBAGA,2FACA,aACAL,gBACAA,qBACA,uBAEAA,6BAEA,mBACAzC,8BACA,oBACAyC,oBAWAA,wBA/BAA,0BAmCA5B,wBACA4B,kBAGAM,4BAAA,WACA/C,uBACA,EACA,qCACA6B,eACA,4BACA,aACAY,aACAK,YACAE,eAEA,0BACA,CACA,qBACA,oBACA,2BACA,8BACAhD,+BAIAyC,aACAK,gBACAE,eAKAC,yBACAjD,eACA,4BACA,qCAEAkD,uBAAA,WACAT,eACAK,iBAEAL,cACAU,gCACAC,iBACAC,YACAC,WACAC,QACA,qCACAC,kDAEAC,oBACAhB,gBAGA,yBACAzC,mBACA,cACA,kBAGA0D,iBAEA1D,yBAKA2D,kBACAlB,cACAU,4BAGAS,yBACA5D,6BACA,mCACAA,yCACA,gCACA,0CACA,oBAGA6D,wBACA,oBAGAC,oBAAA,WACA,8CACA,QACA,wBAEA,aACA,YACAhC,yBAiBA,eACAW,eACAK,iBAEAiB,0DACA/D,8BACA,WAEAgE,uBACAvB,kBACA,MACA,yBACAA,aACAU,4BAEA,WACAV,sBAIAA,aACAK,gBACAE,iBAIA,mBACAP,4BAKA,c,6DCjVA,yHAAi6C,eAAG,G","file":"pages/addCompany/addCompany.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/addCompany/addCompany.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./addCompany.vue?vue&type=template&id=dfe81474&scoped=true&\"\nvar renderjs\nimport script from \"./addCompany.vue?vue&type=script&lang=js&\"\nexport * from \"./addCompany.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addCompany.vue?vue&type=style&index=0&id=dfe81474&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dfe81474\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/addCompany/addCompany.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addCompany.vue?vue&type=template&id=dfe81474&scoped=true&\"","var components\ntry {\n  components = {\n    uAvatar: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-avatar/u-avatar\" */ \"uview-ui/components/u-avatar/u-avatar.vue\"\n      )\n    },\n    uForm: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-form/u-form\" */ \"uview-ui/components/u-form/u-form.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-form-item/u-form-item\" */ \"uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    uInput: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-input/u-input\" */ \"uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-icon/u-icon\" */ \"uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uCode: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-code/u-code\" */ \"uview-ui/components/u-code/u-code.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-button/u-button\" */ \"uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uPicker: function () {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-picker/u-picker\" */ \"uview-ui/components/u-picker/u-picker.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.showNature = true\n      _vm.hideKeyboard()\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addCompany.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addCompany.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"addCompany\">\r\n\t\t<!-- 使用自定义导航栏组件 -->\r\n\t\t<view class=\"companyContent\">\r\n\t\t\t<view class=\"avatarflex\">\r\n\t\t\t\t<view class=\"avatarLabel\">\r\n\t\t\t\t\t头像：\r\n\t\t\t\t</view>\r\n\t\t\t\t<button open-type=\"chooseAvatar\" @chooseavatar=\"chooseaAatar\" class=\"clearBtn\">\r\n\t\t\t\t\t<view class=\"avatar\">\r\n\t\t\t\t\t\t<u-avatar :src=\"src\" size=\"40\" shape=\"circle\"></u-avatar>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</button>\r\n\t\t\t</view>\r\n\t\t\t<u-form class=\"formContent\" :model=\"form\" ref=\"uForm\" :rules=\"rules\" labelWidth=\"160rpx\">\r\n\t\t\t\t<u-form-item label=\"昵称:\" prop=\"nickName\" borderBottom required=\"true\">\r\n\t\t\t\t\t<u-input v-model=\"form.nickName\" border=\"none\" inputAlign=\"right\" />\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<u-form-item label=\"单位名称:\" prop=\"companyName\" borderBottom required=\"true\">\r\n\t\t\t\t\t<u-input v-model=\"form.companyName\" @blur=\"companyNameBlur\" border=\"none\" inputAlign=\"right\" />\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<u-form-item label=\"性质:\" prop=\"isStore\" @click=\"showNature = true;hideKeyboard()\" borderBottom\r\n\t\t\t\t\trequired=\"true\">\r\n\t\t\t\t\t<u-input v-model=\"form.isStore\" disabled disabledColor=\"#ffffff\" border=\"none\" inputAlign=\"right\" />\r\n\t\t\t\t\t<u-icon slot=\"right\" name=\"arrow-right\"></u-icon>\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<u-form-item label=\"姓名:\" prop=\"userName\" borderBottom required=\"true\">\r\n\t\t\t\t\t<u-input v-model=\"form.userName\" border=\"none\" inputAlign=\"right\" />\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<u-form-item label=\"手机号:\" prop=\"phone\" borderBottom required=\"true\">\r\n\t\t\t\t\t<!-- \t\t\t\t\t<u-input v-model=\"form.phone\" border=\"none\" inputAlign=\"right\" /> -->\r\n\t\t\t\t\t<u-input v-model=\"form.phone\" placeholder=\"请输入手机号\" autoHeight border=\"none\">\r\n\t\t\t\t\t\t<template slot=\"suffix\">\r\n\t\t\t\t\t\t\t<u-code ref=\"uCode\" @change=\"codeChange\" :seconds=\"seconds\" changeText=\"X秒重新获取\"></u-code>\r\n\t\t\t\t\t\t\t<u-button @tap=\"getCode\" :text=\"tips\" type=\"success\" size=\"small\"></u-button>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</u-input>\r\n\r\n\t\t\t\t</u-form-item>\r\n\t\t\t\t<u-form-item label=\"验证码:\" prop=\"verifyCode\" borderBottom required=\"true\">\r\n\t\t\t\t\t<u-input v-model=\"form.verifyCode\" placeholder=\"请填写短信验证码\" autoHeight border=\"none\"></u-input>\r\n\t\t\t\t</u-form-item>\r\n\t\t\t</u-form>\r\n\t\t\t<u-picker :show=\"showNature\" :columns=\"columns\" keyName=\"label\" @confirm=\"selectNature\"\r\n\t\t\t\t@cancel=\"cancelNature\"></u-picker>\r\n\t\t\t<view class=\"btn\">\r\n\t\t\t\t<u-button type=\"success\" text=\"保存\" @click=\"saveInfo\" :customStyle=\"{width:'90%'}\"></u-button>\r\n\t\t\t\t<!-- <u-button type=\"primary\" size=\"small\" text=\"保存\" @click=\"saveInfo\"\r\n\t\t\t\t\t:customStyle=\"{width:'45%'}\"></u-button> -->\r\n\t\t\t\t<!-- <u-button type=\"error\" size=\"small\" text=\"取消\" @click=\"cancel\" :customStyle=\"{width:'45%'}\"></u-button> -->\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tgetConfig,\r\n\t\tsetUserInfo,\r\n\t\tgetUserInfo,\r\n\t\tsetToken,\r\n\t\tgetToken,\r\n\t\tremoveUserInfo,\r\n\t\tremoveToken\r\n\t} from '@/utils/auth'\r\n\texport default {\r\n\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t//验证码\r\n\t\t\t\ttips: \"\",\r\n\t\t\t\tseconds: 60,\r\n\t\t\t\tsrc: 'https://xhzl.sxhcyywl.com:1443/prod-api/profile/upload/2025/05/15/7490cf7f4dbe590e1f82d3b1547a4ec6b080e3e6140a-8YDOzm_20250515024145A004.png',\r\n\t\t\t\tusername: '',\r\n\t\t\t\tuserinfo: {},\r\n\t\t\t\tsavepth: '', //真正保存的文件路径\r\n\t\t\t\t//提交的时候传Y,N\r\n\t\t\t\tisStorevalue: \"\",\r\n\t\t\t\tform: {\r\n\t\t\t\t\tnickName: \"\",\r\n\t\t\t\t\tuserName: \"\",\r\n\t\t\t\t\tphone: \"\",\r\n\t\t\t\t\tcompanyName: \"\",\r\n\t\t\t\t\tisStore: \"\",\r\n\t\t\t\t\tverifyCode: \"\"\r\n\r\n\t\t\t\t},\r\n\t\t\t\tshowNature: false,\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t[{\r\n\t\t\t\t\t\tlabel: '连锁店',\r\n\t\t\t\t\t\tid: \"Y\"\r\n\t\t\t\t\t\t// ...\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tlabel: '非连锁',\r\n\t\t\t\t\t\tid: \"N\"\r\n\t\t\t\t\t}]\r\n\t\t\t\t],\r\n\t\t\t\trules: {\r\n\t\t\t\t\tnickName: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入昵称',\r\n\t\t\t\t\t\ttrigger: ['blur', 'change']\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tuserName: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入姓名',\r\n\t\t\t\t\t\ttrigger: ['blur', 'change']\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tcompanyName: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入单位名称',\r\n\t\t\t\t\t\ttrigger: ['blur', 'change']\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tisStore: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请选择单位性质',\r\n\t\t\t\t\t\ttrigger: ['blur', 'change']\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tverifyCode: [{\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入验证码',\r\n\t\t\t\t\t\ttrigger: ['blur', 'change']\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tphone: [{\r\n\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\tmessage: '请输入手机号',\r\n\t\t\t\t\t\t\ttrigger: ['change', 'blur'],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// 自定义验证函数，见上说明\r\n\t\t\t\t\t\t\tvalidator: (rule, value, callback) => {\r\n\t\t\t\t\t\t\t\treturn uni.$u.test.mobile(value);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmessage: '手机号码不正确',\r\n\t\t\t\t\t\t\t// 触发器可以同时用blur和change\r\n\t\t\t\t\t\t\ttrigger: ['change', 'blur'],\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tthis.$refs.uForm.setRules(this.rules);\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tuni.hideHomeButton();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tcodeChange(text) {\r\n\t\t\t\tconsole.log(\"text\", text);\r\n\t\t\t\tthis.tips = text;\r\n\t\t\t},\r\n\t\t\t//发送验证码前验证手机号\r\n\t\t\tvalidatePhone(phone) {\r\n\t\t\t\treturn /^1[3-9]\\d{9}$/.test(phone);\r\n\t\t\t},\r\n\t\t\tgetCode() {\r\n\t\t\t\t//canGetCode属性可以知道当前是否能够获取验证码(即倒计时是否结束)。调用start()方法后，组件会开始倒计时，并且canGetCode会变成false,直到倒计时结束\r\n\t\t\t\tif (!this.validatePhone(this.form.phone)) {\r\n\t\t\t\t\tuni.$u.toast('请输入正确的手机号码');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.$refs.uCode.canGetCode) {\r\n\t\t\t\t\t// 模拟向后端请求验证码\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: '正在获取验证码'\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tthis.request(`wxapi/send-code?phone=${this.form.phone}`, {}, 'POST').then(res => {\r\n\t\t\t\t\t\tif (res.code == 200) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tuni.$u.toast('验证码已发送');\r\n\t\t\t\t\t\t\tthis.$refs.uCode.start();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.$u.toast(res.msg || '发送失败')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(error => {\r\n\t\t\t\t\t\tconsole.error('发送验证码失败', error);\r\n\t\t\t\t\t}).finally(() => {\r\n\t\t\t\t\t\tuni.hideLoading(); // 确保请求结束后隐藏加载动画\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// setTimeout(() => {\r\n\t\t\t\t\t// \tuni.hideLoading();\r\n\t\t\t\t\t// \t// 这里此提示会被this.start()方法中的提示覆盖\r\n\t\t\t\t\t// \tuni.$u.toast('验证码已发送');\r\n\t\t\t\t\t// \t// 通知验证码组件内部开始倒计时\r\n\t\t\t\t\t// \tthis.$refs.uCode.start();\r\n\t\t\t\t\t// }, 2000);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.$u.toast('倒计时结束后再发送');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//隐藏键盘\r\n\t\t\thideKeyboard() {\r\n\t\t\t\tuni.hideKeyboard();\r\n\t\t\t},\r\n\t\t\t// 单位名称失去焦点时触发\r\n\t\t\tcompanyNameBlur(value) {\r\n\t\t\t\tconsole.log(\"value\", value);\r\n\t\t\t\tif (value) {\r\n\t\t\t\t\tthis.request('orderapi/getCustomer', {\r\n\t\t\t\t\t\tcompanyName: value\r\n\t\t\t\t\t}, 'GET', {}).then((res) => {\r\n\t\t\t\t\t\tif (res.data == 0) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.msg,\r\n\t\t\t\t\t\t\t\ticon: \"error\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.form.companyName = \"\"\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tlet address = res.data.address;\r\n\t\t\t\t\t\t\tlet customerId = res.data.customerId;\r\n\t\t\t\t\t\t\tthis.$set(this.form, 'address', address);\r\n\t\t\t\t\t\t\tthis.$set(this.form, 'customerId', customerId);\r\n\t\t\t\t\t\t\tconsole.log(\"form\", this.form);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: \"请填写单位名称\",\r\n\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tchooseaAatar(e) {\r\n\t\t\t\tconsole.log(e)\r\n\t\t\t\tthis.src = e.detail.avatarUrl\r\n\t\t\t\tthis.uploadFile(e.detail.avatarUrl); //选好了就开始上传\r\n\t\t\t},\r\n\t\t\tuploadFile(src) {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中...'\r\n\t\t\t\t})\r\n\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\turl: getConfig().uploadUrl, //图片上传路径\r\n\t\t\t\t\tfileType: 'image', //图片类型,\r\n\t\t\t\t\tname: 'file', //对应接口的文件名称\r\n\t\t\t\t\tfilePath: src,\r\n\t\t\t\t\theader: { //请求头\r\n\t\t\t\t\t\t\"Content-Type\": \"multipart/form-data\",\r\n\t\t\t\t\t\tAuthorization: `Bearer ${getToken()}`\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t//成功的回调\r\n\t\t\t\t\t\t//一般用于重新获取数据渲染页面\r\n\t\t\t\t\t\tconst r = JSON.parse(res.data);\r\n\t\t\t\t\t\tconsole.log(\"r\", r)\r\n\t\t\t\t\t\tif (r.code == 200) {\r\n\t\t\t\t\t\t\tthis.savepth = r.url\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t//失败的回调\r\n\t\t\t\t\t\tconsole.log(\"err\", err)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcancel() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/pages/login/login\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tselectNature(e) {\r\n\t\t\t\tconsole.log(e, e.value[0].id);\r\n\t\t\t\tthis.form.isStore = e.value[0].label;\r\n\t\t\t\tconsole.log('isStore', this.form.isStore);\r\n\t\t\t\tthis.isStorevalue = e.value[0].id;\r\n\t\t\t\tthis.$refs.uForm.validateField('isStore');\r\n\t\t\t\tthis.showNature = false;\r\n\t\t\t},\r\n\t\t\t// 取消性质\r\n\t\t\tcancelNature() {\r\n\t\t\t\tthis.showNature = false;\r\n\t\t\t},\r\n\t\t\t//保存数据\r\n\t\t\tsaveInfo() {\r\n\t\t\t\tthis.$refs.uForm.validate().then(res => {\r\n\t\t\t\t\tlet that = this\r\n\t\t\t\t\tthis.form.avatar = this.savepth\r\n\t\t\t\t\t// this.form.isStore = this.isStorevalue\r\n\t\t\t\t\tconst submitData = {\r\n\t\t\t\t\t\t...this.form,\r\n\t\t\t\t\t\tisStore: this.isStorevalue\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// that.request('orderapi/userInfo', submitData, 'POST').then(res => {\r\n\t\t\t\t\t// \tconsole.log(\"wxloginres: \", res)\r\n\t\t\t\t\t// \tif (res.data != 0) {\r\n\t\t\t\t\t// \t\t// uni.hideLoading()\r\n\t\t\t\t\t// \t\tsetTimeout(function() {\r\n\t\t\t\t\t// \t\t\tuni.hideLoading();\r\n\t\t\t\t\t// \t\t}, 2000);\r\n\t\t\t\t\t// \t\tsetUserInfo(res.data); //存储最新用户信息\r\n\t\t\t\t\t// \t\tuni.switchTab({\r\n\t\t\t\t\t// \t\t\turl: '/pages/index/index'\r\n\t\t\t\t\t// \t\t})\r\n\t\t\t\t\t// \t} else if (res.data == 0) {\r\n\t\t\t\t\t// \t\tuni.$u.toast(res.msg);\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t// })\r\n\t\t\t\t\tif (this.form.avatar) {\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\ttitle: '保存中...'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthat.request('orderapi/userInfo', submitData, 'POST').then(res => {\r\n\t\t\t\t\t\t\tconsole.log(\"wxloginres: \", res)\r\n\t\t\t\t\t\t\tif (res.data != 0) {\r\n\t\t\t\t\t\t\t\t// uni.hideLoading()\r\n\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t}, 2000);\r\n\t\t\t\t\t\t\t\tsetUserInfo(res.data); //存储最新用户信息\r\n\t\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\t\turl: '/pages/index/index'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else if (res.data == 0) {\r\n\t\t\t\t\t\t\t\tuni.$u.toast(res.msg);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"请上传头像信息\",\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}).catch(errors => {\r\n\t\t\t\t\tuni.$u.toast('请填写完整信息')\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n\t.addCompany {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tbackground: linear-gradient(to right, #1ef2fe, #44f2fc);\r\n\r\n\t\t.companyContent {\r\n\t\t\tbackground: #fff;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t\twidth: 100%;\r\n\t\t\tmin-height: 500rpx;\r\n\t\t\tmargin: 20rpx;\r\n\t\t\tborder-radius: 16rpx;\r\n\r\n\r\n\t\t\t.avatarflex {\r\n\t\t\t\tmargin-top: 20rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\t// width: 75%;\r\n\t\t\t\twidth: 90%;\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t\tborder-bottom: 2rpx solid #eaeaea;\r\n\t\t\t\tpadding: 20rpx 0;\r\n\r\n\t\t\t\t.clearBtn {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tbackground: none;\r\n\t\t\t\t\tpadding: 0;\r\n\t\t\t\t\tmargin: 0;\r\n\t\t\t\t\tline-height: 1;\r\n\t\t\t\t\tborder: 2rpx solid #eaeaea;\r\n\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\theight: 80rpx;\r\n\t\t\t\t\twidth: 80rpx;\r\n\r\n\t\t\t\t\t&::after {\r\n\t\t\t\t\t\tborder: none;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.u-avatar {\r\n\t\t\t\t\t\t// border: 2rpx solid #fff;\r\n\t\t\t\t\t\t// box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.formContent {\r\n\t\t\t\twidth: 70%;\r\n\r\n\t\t\t\t::v-deep .u-form-item__body__right__message {\r\n\t\t\t\t\tmargin-left: 200rpx !important;\r\n\t\t\t\t\t/* 右侧布局 */\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// ::v-deep .u-input__content__field-wrapper__field{\r\n\t\t\t\t// \ttext-align: right !important;\r\n\t\t\t\t// }\r\n\t\t\t}\r\n\r\n\t\t\t.btn {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: flex-end;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\twidth: 90%;\r\n\t\t\t\tmargin: 40rpx 0 20rpx 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addCompany.vue?vue&type=style&index=0&id=dfe81474&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.8.7.20230703\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./addCompany.vue?vue&type=style&index=0&id=dfe81474&lang=scss&scoped=true&\""],"sourceRoot":""}